<!DOCTYPE html>
<html>
<head>
    <title>Main</title>
    <script>
        window.onload = function () {
            var holder = document.getElementById('content');
            var content = document.getElementById('logOutput');
            var ws = new WebSocket("ws://localhost:8080/echoit");
            ws.onopen = function(event) {
                console.log('connected', event);
                ws.send('hello there');
            }
            ws.onmessage = function(event) {
                content.appendChild(new Text(event.data + '\n'));
                holder.scrollTop = holder.scrollHeight;
            }
            ws.onclose = function(event) {
                console.log('closed', event);
            }
        };
    </script>
</head>
<body>

    <h1>Hello world!</h1>

    <div id="content" style="height:200px;overflow:scroll;width:95%">
        <pre id="logOutput"></pre>
    </div>

</body>
</html>